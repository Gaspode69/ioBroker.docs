---
translatedFrom: de
translatedWarning: Если вы хотите отредактировать этот документ, удалите поле «translatedFrom», в противном случае этот документ будет снова автоматически переведен
editLink: https://github.com/ioBroker/ioBroker.docs/edit/master/docs/ru/downloads/ioBroker_Image_RPi_2-3-4_20191127_buster.md
title: Образ ioBroker для Raspberry Pi2/3/4 Buster 20191127
hash: VMimg5s0Ar5yl1CUlqb84IAS0AMoMcD8TCLv8whhtHw=
---
# Образ ioBroker для Raspberry Pi2/3/4 Buster 20191127
## Создание карты µ-SD
Это образ SD-карты для Raspberry Pi2, Pi3, Pi3 B+ или Pi4.

Образ был создан на Raspberry Pi4 с 4 ГБ ОЗУ, но он также должен работать на всех вышеперечисленных устройствах. Он подходит для карт объемом 8 ГБ и больше. Однако рекомендуемый минимальный размер — 16 ГБ.
В любом случае рекомендуются карты на 16 ГБ, чтобы не всегда записывались одни и те же ячейки.

Образ распаковывается, а затем записывается на SD-карту с помощью программы Balena Etcher. Etcher доступен для разных операционных систем.

## Компоненты изображения
Образ содержит Raspbian lite, основанный на Debian 10 «Buster» от 26.09.2019 после загрузки с http://www.raspberrypi.org/downloads.

Кроме того, были установлены пакеты, необходимые для некоторых адаптеров.

Создается следующий пользователь:

* Пользователи: `пи`,
* Пароль: `малина`

Node-js установлен в версии 10.17.0 и конечно iobroker через установщик с js-контроллером **v2.1.1** по состоянию на 27 ноября 2019 года.

Это **минимальная установка**, которая содержит только администратора, информацию и адаптер обнаружения**.
Дополнительные адаптеры и их экземпляры все еще необходимо создать и настроить.

Создание дополнительных адаптеров и их экземпляров описано в [здесь](/tutorial/adapter.md).

**Примечание!** Следующие инструкции были созданы, насколько нам известно, с использованием информации, доступной на момент создания образа. Что-то может измениться в любой момент из-за обновлений пакетов или ядра.

Изображение локализовано для Германии. Если используется в других средах, отрегулируйте соответствующим образом. (`sudo raspi-config`; 4.) Параметры локализации)

## После первого запуска
После первого запуска Rapberry Pi выполните следующие настройки с помощью `sudo raspi-config`:

* Пункт 1: `Изменить пароль пользователя` (назначить свой пароль для пользователя `Pi`)

* Пункт 2: «Параметры сети — имя хоста» (при необходимости измените имя Raspberry Pi. По умолчанию — «raspberrypi»).

если имя хоста изменено, введите `iobroker host this` в консоли в каталоге установки

* Пункт 7: `Дополнительные параметры - Расширить файловую систему` (расширить корневую файловую систему до максимального размера используемой SD-карты)

* При необходимости внесите коррективы в пункт 4: `Параметры локализации`. Настройки по умолчанию применяются к Германии.

## Системное обновление
Поскольку с момента создания образа на момент загрузки могло пройти некоторое время, первое, что вам следует сделать, это обновить систему.

Чтобы обновить Linux и nodejs до последних версий, выполните следующие действия в консоли:

```sudo apt-get update && sudo apt-get upgrade -y```

Также следует проверить, есть ли уже обновления для установленных адаптеров и js-контроллера (см. вкладку Hosts).

Помимо минимально возможного размера образа, это также является причиной того, что уже предустановлено лишь несколько адаптеров.

В таких случаях всегда сначала запускайте js-контроллер через консоль по инструкции на вкладке Hosts, затем, если необходимо, Adapter Admin и затем все остальные адаптеры.

## Установка Redis
Эти образы больше не содержат базу данных Redis для хранения состояний. При слабых компьютерах и малом объеме оперативной памяти использование Redis увеличивает производительность, иногда значительно. С более быстрыми компьютерами это уменьшает доступ для записи и, таким образом, продлевает срок службы SD-карты.

Если Redis должен быть установлен, вы должны действовать следующим образом с текущими изображениями.

### Установка сервера Redis
После команды:

`sudo apt install redis-server`

Готов ли сервер Redis и доступен ли порт 6379?

### Изменение состояний на Redis
Использование Redis для хранения состояний в ioBroker должно быть настроено в консоли с помощью:

`iobroker setup custom`

В следующем диалоговом окне введите следующее (внимание в 4-й строке):

```
Type of objects DB [file, couch, redis], default [file]: ENTER
Host of objects DB(file), default[127.0.0.1]: ENTER
Port of objects DB(file), default[9001]: ENTER
Type of states DB [file, redis], default [file]: r ENTER
Host of states DB (file), default[HostName]:ENTER
Port of states DB (file), default[9000]: ENTER
Host name of this machine [hostname]: ENTER
```

Особенности установки в многохостовой системе описаны здесь:

[кликните сюда](config/multihost.md)

Выпуск redis для пользователя iobroker Например, чтобы адаптер резервного копирования также мог получить доступ к redis, пользователю необходимо дать необходимые права с:

`sudo usermod -a -G redis iobroker`
